{{- define "target" -}}
  <mj-accordion-element>
    <mj-accordion-title>
      <strong>{{ .repository }}</strong>
      new version is
      <strong>
        <span style="color: #5cb85c">{{ .tag_name }}</span>
      </strong>
    </mj-accordion-title>

    <mj-accordion-text background-color="#3a3a3a" padding="10" color="#f8f8f8" padding="0" font-size="10px" font-family="Courier new">
      {{- range $line := .body -}}
        {{ $line }}</br>
      {{- end -}}
    </mj-accordion-text>
  </mj-accordion-element>
{{- end -}}

<mjml>
  <mj-head>
    <mj-attributes>
      <mj-accordion border="none" padding="1px" />
    </mj-attributes>
  </mj-head>

  <mj-body background-color="#e1e1e8">
    <mj-section background-color="#3a3a3a">
      <mj-column>
        <mj-text align="center" color="#f8f8f8" padding="0" font-size="24px" font-weight="bold">Ketchup</mj-text>
      </mj-column>
    </mj-section>

    <mj-section background-color="#ffffff">
        <mj-accordion>
          {{- range $index, $target := .targets -}}
            {{ template "target" $target }}
          {{- end -}}
        </mj-accordion>
    </mj-section>

    {{- template "footer" -}}
  </mj-body>
</mjml>
